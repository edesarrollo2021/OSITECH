<?xml version="1.0" encoding="utf-8"?>
<odoo>

    <template id="ot_web_adresses" name="Adresses">
        <t t-call="website.layout">
            <form id="ot_web_adresses_mx">
                <div id="div_mx" class="bt_class container-fluid row" style="padding-left: 20%;">
                    <t t-foreach="addresses" t-as="add">
                        <section>
                            <div class="bt_class col-lg-40 " style="margin: 5%" data-name="string">
                                <img t-att-id="add.id" class="img-fluid o_we_custom_image m-3 d- mx-auto"
                                    t-attf-src="data:image/*;base64,{{add.image}}"/>
                            </div>
                        </section>
                    </t>
                </div>
            </form>

            <script type="text/javascript" src="/web/static/lib/jquery/jquery.js"/>
            <script>
            $(document).ready(function() {
                odoo.define('ot_website_slides.ot_register_employee_mx', function (require) {
                    var Widget = require('web.Widget');
                    const publicWidget = require('web.public.widget');
                    var ajax = require('web.ajax');
                    var core = require('web.core');
                    var rpc = require('web.rpc');
                    var session = require('web.session');
                    var qweb = core.qweb;
                    publicWidget.registry.otRegisterEmployee = publicWidget.Widget.extend({
                    selector: '#ot_web_adresses_mx',
                    events: {
                        'click .bt_class': '_url_adresses',
                    },
                    start:function(){
                        this.self= this
                        this.template = ajax.loadXML('/ot_website_slides/static/src/xml/ot_website_slides.templates_direcciones.xml', qweb);
                    },
                    _url_adresses: function(e){
                    return ajax.jsonRpc('/adresses_mx', 'call', {
                        "id": e.target.id,
                        })
                        .then(function (result) {
                        var container = $('#div_mx');
                            container.replaceWith(qweb.render('ot_website_slides.warning_format_number', result))
                        });
                    },
                    });
                    return publicWidget.registry.otRegisterEmployee;
                });
            });
        </script>
        </t>
    </template>

</odoo>
