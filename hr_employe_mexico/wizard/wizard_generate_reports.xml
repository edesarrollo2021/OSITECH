<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>

    <record id="view_contract_report_form" model="ir.ui.view">
        <field name="name">contract.report.form</field>
        <field name="model">contract.report</field>
        <field name="arch" type="xml">
        <form string="Contract Reports">
            <div states="choose">
            <group>
                <group>
                    <field name="contract_ids" widget="many2many_tags" options="{'no_create': True}" readonly="1"/>
                </group>
                <group>
                    <field name="report_ids" options="{'no_create': True}" required="1" widget="many2many_tags"
                           domain="[('contract', '=', True), ('report_type', '=', 'controller')]"/>
                </group>
            </group>
            </div>
            <div states="get">
                <h2>Export completed</h2>
                <p>Here is the exported file: <field name="data" readonly="1" filename="name"/></p>
            </div>
            <field name="state" invisible="1"/>
            <field name="name" invisible="1"/>
            <footer states="choose">
                <button name="generate_reports" string="Generate" type="object" class="btn-primary"/>
                <button string="Cancel" special="cancel" class="btn-default"/>
            </footer>
            <footer states="get">
                <button string="Cancel" special="cancel" class="btn-primary"/>
            </footer>
        </form>
        </field>
    </record>

    <record id="action_contract_report_import" model="ir.actions.act_window">
        <field name="name">Contract Reports</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">contract.report</field>
        <field name="view_mode">form</field>
        <field name="binding_model_id" ref="hr_contract.model_hr_contract"/>
        <field name="binding_view_types">form,list</field>
        <field name="context">{'default_contract_ids': active_ids}</field>
        <field name="target">new</field>
    </record>

    </data>
</odoo>